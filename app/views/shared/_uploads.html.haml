.container
  = form_for tmp_user, remote: true, method: :post, :html => { :id => "settings_form" } do |f|
    .user_settings
      %span{style: 'float: left; padding: 0px 10px 0px 0px;'}
        Suchradius (meter):
      = f.text_field :search_radius_meters, size: 7, max_length: 7
      .ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only{id: 'settings_form_btn'}
        .ui-button-text
          Sichern
    .peers

.container
  .container#content_uploads
    %input{type: 'radio', name: 'upload_type', value: 'camera', checked: true, onclick: 'toggleUploadType(this)'}
      #{t('uploads.select_camera').html_safe} 
    %input{type: 'radio', name: 'upload_type', value: 'file', onclick: 'toggleUploadType(this)'}
      #{t('uploads.select_file').html_safe}
    .container.messages
      #upload_error
      #upload_message
      #upload_progress
    .container#upload_form_ui
      .upload_data_container#upload_cam_container{style: 'float: left;'}
        %span
          %button{id: 'media_input_init'}
            #{t('uploads.start_camera').html_safe}
        %br
        #media_input_container{style: 'display: none;'}
          #video_viewer
            %video{id: 'media_input_capture', style: 'width: 307px; height: 250px;', autoplay: true}
          #video_snapshot
            %img{id: 'media_input_current', src: '', style: 'width: 307px; height: 250px;'}
          %canvas{id: 'media_input_display', style: 'display: none;'}
          %br{style: 'clear: both;'}
          .ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only{id: 'media_input_capture_btn'}
            .ui-button-text
              #{t('uploads.take_shot').html_safe}
          .ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only{id: 'media_input_stop_btn'}
            .ui-button-text
              Stop
          .ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only{id: 'media_input_upload_btn'}
            .ui-button-text
              #{t('uploads.upload_photo').html_safe}
      .upload_data_container#upload_file_container
        = form_for resource, remote: true, method: :put, :html => { class: nil, :multipart => true, :id => "upload_form", target: "upload_target" } do |f|
          #upload_file_controls{style: 'float: left; display: none;'}
            %span{style: 'float: left;'}
              = f.file_field 'file', id: 'fileupload'
            %button.show-page-loading-msg{id: "upload_button", data: {type: 'json', theme: 'a', textonly: 'false', textvisible: 'true', msgtext: 'Loading'}}
              Upload
          .field{style: 'margin-top: 0px;'}
            %span
              Add a Comment on Upload
            = text_area_tag 'upload_comment[text]', '', id: 'upload_comment'
          = hidden_field_tag 'location[latitude]'
          = hidden_field_tag 'location[longitude]'
          = hidden_field_tag 'user[id]'

.modal
  .modal-dialog#upload_comment_conrols
    .modal-header
      %h4.modal-title #{t('uploads.add_comment').html_safe}
    .modal-body
      = text_area_tag 'upload_comment[text]', '', id: 'add_upload_comment_text'
      = hidden_field_tag 'upload[id]', '', id: 'add_upload_comment_upload_id'
      .ui-button.ui-widget.ui-state-default.ui-corner-all.ui-button-text-only{id: 'add_upload_comment_btn'}
        .ui-button-text
          #{t('uploads.add_comment_submit').html_safe}
      
%iframe{id: "upload_target", name: "upload_target", style: "display:none;"}


