/@see _upload_data.mobile.html-haml: almost identical
:javascript
  /$("head").append("<style type='text/css'>#upload_data_panel_content {height:"+($(window).height()-50)+"px !important; overflow: scroll;}</style>");
  var photoWidth = Math.round($(window).width() * 0.75);
  var photoHeight = Math.round($(window).height() * 0.75);
  $("head").append("<style type='text/css'>#media_input_capture, #media_input_current {width:"+photoWidth+"px;height:"+photoHeight+"px;}</style>");
%fieldset.upload_source_select{data: {role: 'controlgroup', mini: true}}
  %input{type: 'radio', id: 'comment_upload_type_camera', name: 'upload_type', value: 'camera', checked: true, onclick: 'toggleUploadType(this)'}
  = label_tag 'comment_upload_type_camera', t('uploads.select_camera').html_safe
  %input{type: 'radio', id: 'comment_upload_type_file', name: 'upload_type', value: 'file', onclick: 'toggleUploadType(this)'}
  = label_tag 'comment_upload_type_file', t('uploads.select_file').html_safe
.messages
  #upload_error
  #upload_message
  #upload_progress
.field
  %span{style: 'float: left; padding-right: 20px;'}
    #{t('uploads.comment')}
  = text_area_tag 'upload_comment[text]', '', id: 'comment_upload_comment'
.upload_data_container#upload_cam_container{style: 'width: 100%;'}
  = render partial: '/uploads/form/camera_data.mobile', locals: {resource: resource}
.upload_data_container#upload_file_container
  = form_for resource, remote: true, :html => { class: nil, :multipart => true, :id => "upload_form", target: "upload_target" } do |f|
    = render partial: '/uploads/form/file_data', locals: {resource: resource, f: f}
